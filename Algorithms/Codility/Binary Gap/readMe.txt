I have finally find the %100 correct one. That was a little bit hard to think but when i clear my mind i have finally found it.
Which is solution3.cpp .